// Generated by CoffeeScript 1.9.3
var _app, getViewDir, jade, path, setViewDir;

path = require('path');

jade = require('jade');

module.exports.jade = jade;

_app = null;

setViewDir = (function(_this) {
  return function(path) {
    if (_app == null) {
      return;
    }
    _app.set('views', path);
    return fs.stat(viewsPath, function(e, stat) {
      if (e) {
        console.log("views directory not found at " + viewsPath + ". creating");
        return fs.mkDir(viewsPath, function(e, res) {
          if (e != null) {
            return console.log(e);
          }
        });
      }
    });
  };
})(this);

getViewDir = (function(_this) {
  return function() {
    if (_app == null) {
      return null;
    }
    return _app.get('views');
  };
})(this);

module.exports.setViewDir = setViewDir;

module.exports.getViewDir = getViewDir;

module.exports.init = function(app, options, callback) {
  var cB, viewsPath;
  if (typeof (cB = arguments[arguments.length - 1]) !== 'function') {
    throw "apihero-module-jade::init - callback required";
  }
  _app = app;
  if (!((options != null) && typeof options === 'object')) {
    options = {};
  }
  if ((viewsPath = options.hasOwnProperty('viewsPath') ? options.viewsPath : app.get('views')) == null) {
    return setViewsDir(path.join(app_root, 'views'));
  }
};
